---
import Layout from "../layouts/Layout.astro";
import Container from "../components/Container.astro";
import Hero from "../components/Hero.astro";
import Button from "../components/Button.astro";
import SkillCard from "../components/SkillCard.astro";
import { getCollection } from "astro:content";

const skillEntries = await getCollection("skills");
const featuredSkills = skillEntries.map((e) => e.data);
const statEntries = await getCollection("stats");
const stats = statEntries.map((e) => e.data);
---

<Layout
  title="Rubén Feito - Desarrollador Full-Stack Senior | Laravel & Integraciones eCommerce"
  description="Desarrollador Full-Stack Senior especializado en Backend e integraciones eCommerce. Experto en Laravel, marketplaces, APIs y arquitecturas escalables con más de 5 años de experiencia."
>
  <Hero
    name="Rubén Feito"
    description="Desarrollador Full-Stack Senior especializado en Backend e integraciones eCommerce. Experto en Laravel, marketplaces y solucionador de problemas de negocio conectando sistemas complejos."
    ctaPrimary={{ text: "Ver Proyectos", href: "/projects" }}
    ctaSecondary={{
      text: "Contactar",
      href: "https://www.linkedin.com/in/rubenfeitof/",
    }}
  />

  <!-- Featured Skills -->
  <section class="bg-secondary py-16 transition-colors duration-300 dark:bg-slate-800">
    <Container>
      <div class="mb-12 text-center">
        <h2 class="text-foreground mb-4 text-2xl font-bold md:text-3xl">Especialidades Técnicas</h2>
        <p class="text-muted mx-auto max-w-2xl text-lg">
          Enfoque principal en backend robusto y escalable
        </p>
      </div>
      <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
        {
          featuredSkills.map((skill) => (
            <SkillCard title={skill.title} description={skill.description} icon={skill.icon} />
          ))
        }
      </div>
    </Container>
  </section>

  <!-- Stats & CTA Section -->
  <section
    class="bg-gradient-to-r from-teal-500 to-teal-700 py-12 text-white dark:from-teal-800 dark:to-slate-800"
  >
    <Container>
      <!-- Stats Grid -->
      <div class="mx-auto mb-12 grid max-w-3xl gap-4 md:grid-cols-3 md:gap-8">
        {
          stats.map((stat) => (
            <div class="text-center">
              <div class="mb-2 text-4xl font-bold md:text-5xl">{stat.value}</div>
              <p class="text-teal-100">{stat.label}</p>
            </div>
          ))
        }
      </div>

      <!-- CTA -->
      <div class="border-t border-teal-500 pt-8 text-center">
        <h2 class="mb-4 text-2xl font-bold md:text-3xl lg:text-4xl">
          ¿Buscas un desarrollador Full-Stack experimentado o necesitas un especialista en
          integraciones eCommerce?
        </h2>
        <p class="mb-8 text-base text-teal-100 md:text-xl">
          Backend engineer experto en conectar marketplaces, ERPs y sistemas complejos
        </p>
        <Button
          variant="light-on-dark"
          href="https://www.linkedin.com/in/rubenfeitof/"
          target="_blank"
        >
          Hablemos de tu proyecto
        </Button>
      </div>
    </Container>
  </section>
</Layout>
